{% extends "/shared/modal-list-layout.html" %}


{% block HEADERTAGS %}
{{ super() }} 
<style>
  .mui-panel {
    max-width: 500px;
  }
</style>
{% endblock %}

{% block LISTNAVBAR %}
  <nav id="appbar" class="mui-container-fluid mui-appbar mui--bg-primary">
  <table width="100%" cellspacing="0">
    <tr class="mui--appbar-height">
      <td>
        <a href="{{ url_for('sites.site_redirects', recid=site._cuid) }}" class="sidedrawer-toggle mui--visible-xs-inline-block mui--visible-sm-inline-block">☰</a>
        <a href="{{ url_for('sites.site_redirects', recid=site._cuid) }}" class="sidedrawer-toggle mui--hidden-xs mui--hidden-sm">☰</a>
        <span class="mui--text-title">New Redirect</span>
      </td>
    </tr>
  </table>
</nav>
{% endblock %}

{% block BODY %}

<div class="mui-panel">
    <div class="mui--text-dark mui--text-subhead">Site</div>
    <div class="mui--text-dark-secondary">{{ site.sitedescription }}</div>
    <br>
    <form method="post" action="{{ url_for('sites.site_redirects_new', recid=site._cuid) }}" role="form">
    <legend>Create new site redirect</legend>
    {{ form.csrf_token }}
    <div class="mui-select">
      {{ form.version(placeholder=form.version.description,
                    autofocus="true") }} 
      <label>{{ form.version.label.text }}</label>
      {% if form.version.errors -%}
        <div class="mui--text-danger">{{ form.version.errors[0] }}</div>
      {%- endif %}
    </div>
    <br><br>
    <div class="mui-textfield">
      {{ form.domain(placeholder=form.domain.description,
                    autofocus="true") }} 
      <label>{{ form.domain.label.text }}</label>
      {% if form.domain.errors -%}
        <div class="mui--text-danger">{{ form.domain.errors[0] }}</div>
      {%- endif %}
    </div>
    <div class="mui-textfield">
      {{ form.hosturl(placeholder=form.hosturl.description) }} 
      <label>{{ form.hosturl.label.text }}</label>
      {% if form.hosturl.errors -%}
        <div class="mui--text-danger">{{ form.hosturl.errors[0] }}</div>
      {%- endif %}
    </div>

    <div class="mui-checkbox">
      {{ form.ssl() }} 
      <label>{{ form.ssl.label.text }}</label>
      {% if form.ssl.errors -%}
        <div class="mui--text-danger">{{ form.ssl.errors[0] }}</div>
      {%- endif %}
    </div>

    <div class="mui-textfield">
      {{ form.sslcert(placeholder=form.sslcert.description) }} 
      <label>{{ form.sslcert.label.text }}</label>
      {% if form.sslcert.errors -%}
        <div class="mui--text-danger">{{ form.sslcert.errors[0] }}</div>
      {%- endif %}
    </div>
    <div class="mui-textfield">
      {{ form.sslkey(placeholder=form.sslkey.description) }} 
      <label>{{ form.sslkey.label.text }}</label>
      {% if form.sslkey.errors -%}
        <div class="mui--text-danger">{{ form.sslkey.errors[0] }}</div>
      {%- endif %}
    </div>

    <button type="submit" class="mui-btn mui-btn--primary">Create redirect</button>
    </form>
</div>
{% endblock %}
